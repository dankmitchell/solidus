<% Spree::Backend::Config.menu_items.each do |menu_item| %>
  <% if instance_exec(&menu_item.condition) %>
    <%=
      tab(
        *menu_item.sections,
        icon: menu_item.icon,
        label: menu_item.label,
        url: menu_item.url.is_a?(Symbol) ? spree.public_send(menu_item.url) : menu_item.url
      ) do
    %>
      <% if menu_item.partial %>
        <% render partial: menu_item.partial %>
      <% else %>
        <% content_tag :ul, tab(menu_item.label), class: "admin-subnav with-single-element" %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
